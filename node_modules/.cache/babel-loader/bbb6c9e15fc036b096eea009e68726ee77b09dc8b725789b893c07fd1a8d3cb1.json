{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport emailjs from '@emailjs/browser';\nimport { set } from \"react-hook-form\";\nconst useForm = (initialData, onValidate) => {\n  _s();\n  const [form, setForm] = useState(initialData);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const sendEmail = event => {\n    event.preventDefault();\n    const err = onValidate(form);\n    setErrors(err);\n    if (Object.keys(err).length === 0) {\n      setLoading(true);\n      fetch(\"https://formsubmit.co/ajax/lgalemartinez@yahoo.com\", {\n        method: \"POST\",\n        // headers: { \n        //     'Content-Type': 'application/json',\n        //     'Accept': 'application/json'\n        // },\n        body: JSON.stringify({\n          from: form.user_email,\n          to: \"lgalemartinez@yahoo.com\",\n          subject: `Mensaje enviado por ${form.user_name}`,\n          html: `\n                       Duda o consulta\n                    \n                       Nombre: ${form.user_name}\n                       Correo Electronico: ${form.user_email}\n              \n\n                       Mensaje enviado por ${form.user_name} \n                       ${form.user_message}\n\n                        Aguas de Danli \n                        `\n        })\n      }).then(response => response.json()).then(data => {\n        console.log(data);\n        setForm(initialData);\n        setLoading(false);\n      }).catch(error => {\n        console.log(error);\n        setLoading(false);\n      });\n    }\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(\"enviando formulario\");\n  };\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  return {\n    form,\n    loading,\n    errors,\n    handleSubmit,\n    handleChange,\n    sendEmail\n  };\n};\n_s(useForm, \"GcC/OSj6hvpeFhB9sLxEtbbTVcI=\");\nexport default useForm;","map":{"version":3,"names":["useState","emailjs","set","useForm","initialData","onValidate","form","setForm","loading","setLoading","errors","setErrors","sendEmail","event","preventDefault","err","Object","keys","length","fetch","method","body","JSON","stringify","from","user_email","to","subject","user_name","html","user_message","then","response","json","data","console","log","catch","error","handleSubmit","handleChange","name","value","target"],"sources":["C:/Users/galee/OneDrive/Escritorio/add-aguasdedanli/src/componentes/useForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport emailjs from '@emailjs/browser';\r\nimport { set } from \"react-hook-form\";\r\n\r\n\r\n\r\nconst useForm = (initialData, onValidate) =>{\r\n    const [form, setForm]= useState(initialData);\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const sendEmail = (event) =>{\r\n        event.preventDefault()\r\n        const err= onValidate(form);\r\n        setErrors(err)\r\n\r\n\r\n        if(Object.keys(err).length===0){\r\n            setLoading(true)\r\n            fetch(\"https://formsubmit.co/ajax/lgalemartinez@yahoo.com\", {\r\n                method: \"POST\",\r\n                // headers: { \r\n                //     'Content-Type': 'application/json',\r\n                //     'Accept': 'application/json'\r\n                // },\r\n                body: JSON.stringify(\r\n                    {\r\n                        from: form.user_email,\r\n                        to: \"lgalemartinez@yahoo.com\",\r\n                        subject: `Mensaje enviado por ${form.user_name}`,\r\n                        html:`\r\n                       Duda o consulta\r\n                    \r\n                       Nombre: ${form.user_name}\r\n                       Correo Electronico: ${form.user_email}\r\n              \r\n\r\n                       Mensaje enviado por ${form.user_name} \r\n                       ${form.user_message}\r\n\r\n                        Aguas de Danli \r\n                        `\r\n\r\n                    }\r\n                )\r\n            })\r\n            .then(response => response.json())   \r\n            .then(data=>{  \r\n                console.log(data);\r\n                setForm(initialData);\r\n                setLoading(false);\r\n            })\r\n\r\n            .catch(error=>{console.log(error);\r\n                                 setLoading(false)\r\n                                         }                             )\r\n    \r\n        }\r\n   \r\n    }\r\n   \r\n\r\n    const handleSubmit = (event)=>{\r\n        event.preventDefault()\r\n        console.log(\"enviando formulario\")\r\n    }\r\n\r\n    const handleChange=(event)=>{\r\n        const {name, value}= event.target\r\n        setForm({...form, [name]:value})\r\n    }\r\n\r\n\r\n    return {form, loading, errors, handleSubmit, handleChange, sendEmail}\r\n\r\n\r\n}\r\n\r\nexport default useForm;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SAASC,GAAG,QAAQ,iBAAiB;AAIrC,MAAMC,OAAO,GAAG,CAACC,WAAW,EAAEC,UAAU,KAAI;EAAA;EACxC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAEP,QAAQ,CAACI,WAAW,CAAC;EAC5C,MAAM,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,MAAMY,SAAS,GAAIC,KAAK,IAAI;IACxBA,KAAK,CAACC,cAAc,EAAE;IACtB,MAAMC,GAAG,GAAEV,UAAU,CAACC,IAAI,CAAC;IAC3BK,SAAS,CAACI,GAAG,CAAC;IAGd,IAAGC,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAACG,MAAM,KAAG,CAAC,EAAC;MAC3BT,UAAU,CAAC,IAAI,CAAC;MAChBU,KAAK,CAAC,oDAAoD,EAAE;QACxDC,MAAM,EAAE,MAAM;QACd;QACA;QACA;QACA;QACAC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAChB;UACIC,IAAI,EAAElB,IAAI,CAACmB,UAAU;UACrBC,EAAE,EAAE,yBAAyB;UAC7BC,OAAO,EAAG,uBAAsBrB,IAAI,CAACsB,SAAU,EAAC;UAChDC,IAAI,EAAE;AAC9B;AACA;AACA,iCAAiCvB,IAAI,CAACsB,SAAU;AAChD,6CAA6CtB,IAAI,CAACmB,UAAW;AAC7D;AACA;AACA,6CAA6CnB,IAAI,CAACsB,SAAU;AAC5D,yBAAyBtB,IAAI,CAACwB,YAAa;AAC3C;AACA;AACA;QAEoB,CAAC;MAET,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAE;QACRC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB3B,OAAO,CAACH,WAAW,CAAC;QACpBK,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CAED4B,KAAK,CAACC,KAAK,IAAE;QAACH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;QACZ7B,UAAU,CAAC,KAAK,CAAC;MACT,CAAC,CAA8B;IAEhE;EAEJ,CAAC;EAGD,MAAM8B,YAAY,GAAI1B,KAAK,IAAG;IAC1BA,KAAK,CAACC,cAAc,EAAE;IACtBqB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EACtC,CAAC;EAED,MAAMI,YAAY,GAAE3B,KAAK,IAAG;IACxB,MAAM;MAAC4B,IAAI;MAAEC;IAAK,CAAC,GAAE7B,KAAK,CAAC8B,MAAM;IACjCpC,OAAO,CAAC;MAAC,GAAGD,IAAI;MAAE,CAACmC,IAAI,GAAEC;IAAK,CAAC,CAAC;EACpC,CAAC;EAGD,OAAO;IAACpC,IAAI;IAAEE,OAAO;IAAEE,MAAM;IAAE6B,YAAY;IAAEC,YAAY;IAAE5B;EAAS,CAAC;AAGzE,CAAC;AAAA,GAtEKT,OAAO;AAwEb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}