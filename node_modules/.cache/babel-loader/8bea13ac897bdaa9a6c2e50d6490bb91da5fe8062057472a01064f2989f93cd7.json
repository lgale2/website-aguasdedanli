{"ast":null,"code":"import _defineProperty from\"C:/Users/galee/OneDrive/Escritorio/add-aguasdedanli/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/galee/OneDrive/Escritorio/add-aguasdedanli/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/galee/OneDrive/Escritorio/add-aguasdedanli/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import emailjs from'@emailjs/browser';import{set}from\"react-hook-form\";var useForm=function useForm(initialData,onValidate){var _useState=useState(initialData),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var sendEmail=function sendEmail(event){event.preventDefault();var err=onValidate(form);setErrors(err);if(Object.keys(err).length===0){setLoading(true);fetch(\"https://formsubmit.co/ajax/lgalemartinez@yahoo.com\",{method:\"POST\",headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({Desde:form.user_email,Para:\"lgalemartinez@yahoo.com\",Email:\"Mensaje enviado por \".concat(form.user_name),Contenido:\"\\n                        \\n                                              Duda o consulta\\n                    \\n                       Nombre: \".concat(form.user_name,\"\\n\\n                       Correo Electronico: \").concat(form.user_email,\"\\n              \\n\\n                       Mensaje enviado por \").concat(form.user_name,\" \\n                       \").concat(form.user_message,\"\\n\\n                        Aguas de Danli \\n                        \")})}).then(function(response){return response.json();}).then(function(data){console.log(data);setForm(initialData);setLoading(false);}).catch(function(error){console.log(error);setLoading(false);});}};var handleSubmit=function handleSubmit(event){event.preventDefault();console.log(\"enviando formulario\");};var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};return{form:form,loading:loading,errors:errors,handleSubmit:handleSubmit,handleChange:handleChange,sendEmail:sendEmail};};export default useForm;","map":{"version":3,"names":["useState","emailjs","set","useForm","initialData","onValidate","form","setForm","loading","setLoading","errors","setErrors","sendEmail","event","preventDefault","err","Object","keys","length","fetch","method","headers","body","JSON","stringify","Desde","user_email","Para","Email","user_name","Contenido","user_message","then","response","json","data","console","log","catch","error","handleSubmit","handleChange","target","name","value"],"sources":["C:/Users/galee/OneDrive/Escritorio/add-aguasdedanli/src/componentes/useForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport emailjs from '@emailjs/browser';\r\nimport { set } from \"react-hook-form\";\r\n\r\n\r\n\r\nconst useForm = (initialData, onValidate) =>{\r\n    const [form, setForm]= useState(initialData);\r\n    const [loading, setLoading] = useState(false);\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const sendEmail = (event) =>{\r\n        event.preventDefault()\r\n        const err= onValidate(form);\r\n        setErrors(err)\r\n\r\n\r\n        if(Object.keys(err).length===0){\r\n            setLoading(true)\r\n            fetch(\"https://formsubmit.co/ajax/lgalemartinez@yahoo.com\", {\r\n                method: \"POST\",\r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify(\r\n                    {\r\n                        Desde: form.user_email,\r\n                        Para: \"lgalemartinez@yahoo.com\",\r\n                        Email:`Mensaje enviado por ${form.user_name}`,\r\n                        Contenido:`\r\n                        \r\n                                              Duda o consulta\r\n                    \r\n                       Nombre: ${form.user_name}\r\n\r\n                       Correo Electronico: ${form.user_email}\r\n              \r\n\r\n                       Mensaje enviado por ${form.user_name} \r\n                       ${form.user_message}\r\n\r\n                        Aguas de Danli \r\n                        `\r\n                    }\r\n                )\r\n            })\r\n            .then(response => response.json())   \r\n            .then(data=>{  \r\n                console.log(data);\r\n                setForm(initialData);\r\n                setLoading(false);\r\n            })\r\n\r\n            .catch(error=>{console.log(error);\r\n                                 setLoading(false)\r\n                                         }                             )\r\n    \r\n        }\r\n   \r\n    }\r\n   \r\n\r\n    const handleSubmit = (event)=>{\r\n        event.preventDefault()\r\n        console.log(\"enviando formulario\")\r\n    }\r\n\r\n    const handleChange=(event)=>{\r\n        const {name, value}= event.target\r\n        setForm({...form, [name]:value})\r\n    }\r\n\r\n\r\n    return {form, loading, errors, handleSubmit, handleChange, sendEmail}\r\n\r\n\r\n}\r\n\r\nexport default useForm;"],"mappings":"4ZAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,QAAO,KAAM,kBAAkB,CACtC,OAASC,GAAG,KAAQ,iBAAiB,CAIrC,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,WAAW,CAAEC,UAAU,CAAI,CACxC,cAAuBL,QAAQ,CAACI,WAAW,CAAC,wCAArCE,IAAI,eAAEC,OAAO,eACpB,eAA8BP,QAAQ,CAAC,KAAK,CAAC,yCAAtCQ,OAAO,eAAEC,UAAU,eAC1B,eAA4BT,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAjCU,MAAM,eAAEC,SAAS,eAExB,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,KAAK,CAAI,CACxBA,KAAK,CAACC,cAAc,EAAE,CACtB,GAAMC,IAAG,CAAEV,UAAU,CAACC,IAAI,CAAC,CAC3BK,SAAS,CAACI,GAAG,CAAC,CAGd,GAAGC,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAACG,MAAM,GAAG,CAAC,CAAC,CAC3BT,UAAU,CAAC,IAAI,CAAC,CAChBU,KAAK,CAAC,oDAAoD,CAAE,CACxDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBACd,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAChB,CACIC,KAAK,CAAEnB,IAAI,CAACoB,UAAU,CACtBC,IAAI,CAAE,yBAAyB,CAC/BC,KAAK,+BAAwBtB,IAAI,CAACuB,SAAS,CAAE,CAC7CC,SAAS,2JAIAxB,IAAI,CAACuB,SAAS,2DAEFvB,IAAI,CAACoB,UAAU,2EAGfpB,IAAI,CAACuB,SAAS,sCAClCvB,IAAI,CAACyB,YAAY,yEAItB,CAAC,CAET,CAAC,CAAC,CACDC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAE,CACRC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB5B,OAAO,CAACH,WAAW,CAAC,CACpBK,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAED6B,KAAK,CAAC,SAAAC,KAAK,CAAE,CAACH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CACZ9B,UAAU,CAAC,KAAK,CAAC,CACT,CAAC,CAA8B,CAEhE,CAEJ,CAAC,CAGD,GAAM+B,aAAY,CAAG,QAAfA,aAAY,CAAI3B,KAAK,CAAG,CAC1BA,KAAK,CAACC,cAAc,EAAE,CACtBsB,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACtC,CAAC,CAED,GAAMI,aAAY,CAAC,QAAbA,aAAY,CAAE5B,KAAK,CAAG,CACxB,kBAAqBA,KAAK,CAAC6B,MAAM,CAA1BC,IAAI,eAAJA,IAAI,CAAEC,KAAK,eAALA,KAAK,CAClBrC,OAAO,gCAAKD,IAAI,wBAAGqC,IAAI,CAAEC,KAAK,GAAE,CACpC,CAAC,CAGD,MAAO,CAACtC,IAAI,CAAJA,IAAI,CAAEE,OAAO,CAAPA,OAAO,CAAEE,MAAM,CAANA,MAAM,CAAE8B,YAAY,CAAZA,YAAY,CAAEC,YAAY,CAAZA,YAAY,CAAE7B,SAAS,CAATA,SAAS,CAAC,CAGzE,CAAC,CAED,cAAeT,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}